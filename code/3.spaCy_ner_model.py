import spacy
import re
from spacy.lang.en import English
from spacy.pipeline import EntityRuler
import json
import random

def clean_text(text):
    cleaned = re.sub(r"[\(\[].*?[\)\]]", "", text)
    return (cleaned)

#with open("../data/undp_jobs.txt", "r", errors='ignore') as f:
#    text = f.read()

test = "monitoring the pilot process.pilot plan in word/ppt20 scale phasescale-up plan in word/ppt10 project 275 conduct market research/feasibility engagement and develop problem statements that includes outlining the market constraints pain points broad areas for solution finding nature of solution etc.report on implementation plan in word/ppt20 product development/design including design of comprehensive business plan and financial models. include user interface and experience engagement.report on product development including customer journey mapping in word/ppt15 support partner institutions in improving process and procedures for new solutions. providing advice on risk management and best practices. pilot including support to partner institution in monitoring the pilot process.report on process in word/ppt10 pilot plan in word/ppt20 scale phasescale-up plan in word/ppt10 training20 conduct trainings and workshops to financial service providers in specific topics relating to financial health behavioural science product development data analytics usage etc.presentation reports10 conduct trainings and technical support to regulators (e.g. central banks) or governmental authorities in the space of financial health and policy making.presentation reports10 knowledge management30 produce and disseminate briefings and case studies relating to dfs and financial health.briefing note and case study15 analysis of market data case evidence and research findingspresentation reports15 total200 competencies passion for what design and technology can do for people.experience in managing clients and partners?�from early stage companies to mature organizations.solution-focused and medium-agnostic willing to step out of your core skill set or discipline to find the correct solution to a challenge.cultural sensitivity creativity and resourcefulness?�as comfortable in finding your way through a bustling market in china as you are in a corporate environment.results-driven problem-solver with structuring and analytic capabilities.strong ability to think and act strategically even in situations of ambiguity to develop both short- and long-term visions. inspires others influences and builds trust.strong communicator that can serve multiple functions as needed.  required skills and experience educationbachelors??degree in either business administration international development economics or related field.experienceminimum 5 years??experience in financial sector internet companies innovation hubs technology/service sector or retail is mandatory;at least 2 years experience working in consulting or think tank or multilateral agency would be a plus;conversant with efforts around financing (i.e. investments fund-raising) and has successfully closed such efforts;at least 3 years of work experience in china would be a plus.languageexcellent written and oral command of the english language is mandatory.fluency in mandarin or cantonese is a plus but not mandatory and would be scored.timeline total number of working days duty stationtimeline november 2020 ??october 2021total number of working days for assignment up to 200 working days within 12 months.duty station shenzhen china with travel as required.for unforeseeable travel payment of travel costs including tickets lodging and terminal expenses should be agreed upon between the respective business unit and individual consultant prior to travel and will be reimbursed. uncdf would cover the cost of stay for the selected person.please note that uncdf cannot guarantee residence permits or visas for consultants. consultants are responsible for securing their work documentation. in the case of national consultants applicants that are not nationals of the duty station requested will have to prove their residence status.progress controls & paymentspayment will be made against satisfactory completion of each deliverable. all payments shall be disbursed only upon written confirmation of acceptance of the outputs and authorization for payment by the global innovation manager.disbursement of the final payment shall require a signed performance evaluation of the consultant.application processinterested individuals must submit the documents mentioned belowas proposals in order to demonstrate their qualifications.(note the system does not allow multiple uploads of documents. applicants must make sure to upload all documents in one pdf file.)all applications must contain the following informationcover letter with a summary statement of competencies and motivation rationalizing how the applicant meets the qualifications and can deliver the requirements of the terms of reference (tor);earliest availability and proposed schedule for consultancy;complete and signed p11-personal history form with names and current contacts of3referees (availableathttp//sas.undp.org/documents/p11_personal_history_form.doc);signed financial proposal for the assignment outlining all-inclusive fee including professional fees andother professional expenses such as insurance taxes etc. (available athttp//procurement-notices.undp.org/view_file.cfm?doc_id=29916).incomplete applications will not be considered. please make sure you have provided all requested materials.evaluationstep i screeningapplications will be screened and only applicants meeting the minimum criteria will progress to the pool for shortlisting.bachelors??degree in either business administration international development economics or related fieldminimum 5 years??experience in financial sector internet companies innovation hubs technology/service sector or retail is mandatoryexcellent written and oral command of the english language is mandatorystep ii technical evaluationshortlisting (20 points)uncdf will produce a shortlist of candidates and technically evaluate candidates as per experience requirements in the terms of reference.shortlisting scoringminimum 5 years??experience in financial sector internet companies innovation hubs technology/service sector or retail is mandatory. ??40%at least 2 years experience working in consulting or think tank or multilateral agency would be a plus. ??20%at least 3 years of work experience in china would be a plus. ??20%fluency in mandarin or cantonese is a plus. ??20%interview(80 points) only candidates obtaining a minimum score of 70% at the desk review stage shall be invited to a panel interview.step iii financial evaluationonly candidates obtaining a minimum of 70% on the total of step ii (desk review 20 points + interview 80 points) shall be considered as technically qualified and will be reviewed further for financial evaluation.the following formula will be used to evaluate the financial proposallowest priced proposal / price of the proposal being evaluated x 30award criteriathe contact shall be awarded to the applicant whose offer has been evaluated and determined asresponsive/compliant/acceptable; andhaving received the highest combined weight technical 70% + financial 30%both individual consultants and individual employed by a company or institution are welcome to apply.any individual employed by a company or institution who would like to submit an offer in response to a procurement notice for ic must do so in their individual capacity (providing a cv so that their qualifications may be judged accordingly). women candidates are strongly encouraged to apply./ma  ]	financial health consultant  advertised on behalf of	shenzhen china	2020			individual contract	national consultant	english		12 months	possibility of an extension of 12 months based on performance and programme needs undp is committed to achieving workforce diversity in terms of gender nationality and culture. individuals from minority groups indigenous groups and persons with disabilities are equally encouraged to apply. all applications  will be  treated with the strictest confidence.undp does not tolerate sexual exploitation and abuse any kind of harassment including sexual harassment and discrimination. all selected candidates will therefore undergo rigorous		checks. background uncdf is the un?�s capital investment agency for the world?�s least developed countries (ldcs). it creates new opportunities for poor people and their communities by increasing access to finance and investment capital. uncdf focuses on africa and the poorest countries of asia and the pacific with a special commitment to countries emerging from conflict or crisis. it provides seed capital?�grants and loans?�and technical support to help microfinance institutions reach more poor households and small businesses and local governments finance the capital investments?�water systems feeder roads schools irrigation schemes?�that will improve poor peoples??lives.based on the experience of reaching last mile and digital as a key driver uncdf under its financial inclusion practice has consolidated its strategy to support last mile solutions. under the new strategy digital is a key accelerator. uncdf fipa is expanding its work in some of these new markets with a focus on digital finance and innovations to both help digital finance reach its potential for the last mile but also to better use digital and digital finance and other services to achieve the sustainable development goals (sdgs) anchored through a new initiative that will grow into a multi-country effort. one aspect of this expansion is also to learn new things that are happening in these markets and then create ways of bringing that knowledge and experience to the rest of the world specially ldcs. uncdf?�s focus in china is to drive the broader objective of financial health that includes working at country level with public and private sector stakeholders. working with them in achieving outcomes that is impact-focussed. as part of this engagement uncdf intends to engage a full-time financial health consultant to work as part of its team in china.	under the supervision of uncdf´s global innovation manager the consultant will support the following activities and deliverables tied to the project.provide technical inputs within the broader framework of financial health to uncdf projects and partners with focus on following segments ageing youth women etc.conduct trainings and technical support to private sector stakeholders in product development and data analytics and usage.conducttrainings and technical support to regulators (e.g. central banks) in the space of digital economy strategy financial health and policy making.develop knowledge management and learning products for the abovementioned projects.to reach the above objectives the consultant would undertake the following activities and deliverables.activitiesdeliverablesestimated effort (days)project 175conduct market research/feasibility engagement and develop problem statements that includes outlining the market constraints pain points broad areas for solution finding nature of solution etc.report on implementation plan in word/ppt20product development/design including design of comprehensive business plan and financial models. include user interface and experience engagement.report on product development including customer journey mapping in word/ppt15supporting partner institutions in improving process and procedures for new solutions. providing advice on risk management and best practices.report on process in word/ppt10pilot including support to partner institution in monitoring the pilot process.pilot plan in word/ppt20scale phasescale-up plan in word/ppt10project 275conduct market research/feasibility engagement and develop problem statements that includes outlining the market constraints pain points broad areas for solution finding nature of solution etc.report on implementation plan in word/ppt20product development/design including design of comprehensive business plan and financial models. include user interface and experience engagement.report on product development including customer journey mapping in word/ppt15support partner institutions in improving process and procedures for new solutions. providing advice on risk management and best practices. pilot including support to partner institution in monitoring the pilot process.report on process in word/ppt10pilot plan in word/ppt20scale phasescale-up plan in word/ppt10training20conduct trainings and workshops to financial service providers in specific topics relating to financial health behavioural science product development data analytics usage etc.presentation reports10conduct trainings and technical support to regulators (e.g. central banks) or governmental authorities in the space of financial health and policy making.presentation reports10knowledge management30produce and disseminate briefings and case studies relating to dfs and financial health.briefing note and case study15analysis of market data case evidence and research findingspresentation reports15total200  activitiesdeliverablesestimated effort (days) project 175 conduct market research/feasibility engagement and develop problem statements that includes outlining the market constraints pain points broad areas for solution finding nature of solution etc.report on implementation plan in word/ppt20 product development/design including design of comprehensive business plan and financial models. include user interface and experience engagement.report on product development including customer journey mapping in word/ppt15 supporting partner institutions in improving process and procedures for new solutions. providing advice on risk management and best practices.report on process in word/ppt10 pilot including support to partner institution in monitoring the pilot process.pilot plan in word/ppt20 scale phasescale-up plan in word/ppt10 project 275 conduct market research/feasibility engagement and develop problem statements that includes outlining the market constraints pain points broad areas for solution finding nature of solution etc.report on implementation plan in word/ppt20 product development/design including design of comprehensive business plan and financial models. include user interface and experience engagement.report on product development including customer journey mapping in word/ppt15 support partner institutions in improving process and procedures for new solutions. providing advice on risk management and best practices. pilot including support to partner institution in monitoring the pilot process.report on process in word/ppt10 pilot plan in word/ppt20 scale phasescale-up plan in word/ppt10 training20 conduct trainings and workshops to financial service providers in specific topics relating to financial health behavioural science product development data analytics usage etc.presentation reports10 conduct trainings and technical support to regulators (e.g. central banks) or governmental authorities in the space of financial health and policy making.presentation reports10 knowledge management30 produce and disseminate briefings and case studies relating to dfs and financial health.briefing note and case study15 analysis of market data case evidence and research findingspresentation reports15 total200	passion for what design and technology can do for people.experience in managing clients and partners?�from early stage companies to mature organizations.solution-focused and medium-agnostic willing to step out of your core skill set or discipline to find the correct solution to a challenge.cultural sensitivity creativity and resourcefulness?�as comfortable in finding your way through a bustling market in china as you are in a corporate environment.results-driven problem-solver with structuring and analytic capabilities.strong ability to think and act strategically even in situations of ambiguity to develop both short- and long-term visions. inspires others influences and builds trust.strong communicator that can serve multiple functions as needed.		"
test = clean_text(test)

#nlp = spacy.load("ner_model")
nlp = spacy.load("en_core_web_lg")

doc = nlp(test)
for ent in doc.ents:
    print(ent)